<%= javascript_include_tag "simulator/manifest.js" %>

<div class="container">
  <div class="row">
    <div class="col-12">
      <h2>Rotation Simulator</h2>
      <table class="table">
        <thead class="thead-default">
          <th>Sequence</th>
          <th>Time</th>
          <th>Skill/ Spell</th>
          <th>Ability</th>
          <th>Base Potency</th>
          <th>Self-multipliers</th>
          <th>Target multipliers</th>
          <th>Total potency</th>
        </thead>
        <tbody data-bind="foreach: timeline.actionsObserved">
          <tr>
            <td data-bind="text: sequence"></td>
            <td data-bind="text: timeSinceEncounter"></td>
            <td data-bind="text: name"></td>
            <td></td>
            <td data-bind="text: potency"></td>
            <td data-bind="text: multiplierText"></td>
            <td>0</td>
            <td data-bind="text: totalPotency"></td>
          </tr>
        </tbody>
      </table>

    </div>

    <div class="col-8">
      <form class="form">

        <div class="form-group row">
          <label class="col-sm-2 col-form-label">Skill/ Spell</label>
          <div class="col-8">
            <select data-bind="options: spells, optionsValue: 'id', optionsText: 'optionText', value: selectedSpell" class="form-control"></select>
          </div>

          <div class="col-2">
            <button class="btn btn-primary" data-bind="click: addSpellToQueue">Queue</button>
          </div>
        </div>

        <div class="form-group row">
          <label class="col-sm-2 col-form-label">Damage Multiplier Abilities</label>
          <div class="col-8">
            <select data-bind="options: damageMultiplierAbilities, optionsValue: 'id', optionsText: 'optionText', value: selectedDamageMultiplierAbility" class="form-control"></select>
          </div>

          <div class="col-2">
            <button class="btn btn-primary" data-bind="click: addDamageMultiplierToQueue">Queue</button>
          </div>
        </div>

      </form>
    </div>

    <div class="col-12 pt-5">
      <%= link_to "Back", dashboard_index_path, class: 'btn btn-secondary' %>
    </div>
  </div>
</div>
